
.. _rest_error:

Error Services
========================================================================================================================

These services provide access to information about registered errors and error mappings.

.. _rest_error_list:

+------------------------------------------------------------------------------------------------------------------------------+
| **Error List**                                                                                                               |
+==============================================================================================================================+
| Returns a list of all errors.                                                                                                |
+------------------------------------------------------------------------------------------------------------------------------+
| **GET** /errors/                                                                                                             |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| **Query Parameters**                                                                                                         |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| page               | Integer           | Optional | The page of the results to return. Defaults to 1.                        |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| page_size          | Integer           | Optional | The size of the page to use for pagination of results.                   |
|                    |                   |          | Defaults to 100, and can be anywhere from 1-1000.                        |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| started            | ISO-8601 Datetime | Optional | The start of the time range to query.                                    |
|                    |                   |          | Supports the ISO-8601 date/time format, (ex: 2015-01-01T00:00:00Z).      |
|                    |                   |          | Supports the ISO-8601 duration format, (ex: PT3H0M0S).                   |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| ended              | ISO-8601 Datetime | Optional | End of the time range to query, defaults to the current time.            |
|                    |                   |          | Supports the ISO-8601 date/time format, (ex: 2015-01-01T00:00:00Z).      |
|                    |                   |          | Supports the ISO-8601 duration format, (ex: PT3H0M0S).                   |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| order              | String            | Optional | One or more fields to use when ordering the results.                     |
|                    |                   |          | Include multiple times to multi-sort, (ex: order=name&order=version).    |
|                    |                   |          | Prefix the field with a dash '-' to reverse the order, (ex: order=-name).|
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| **Successful Response**                                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Status**         | 200 OK                                                                                                  |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Content Type**   | *application/json*                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **JSON Fields**                                                                                                              |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| count              | Integer           | The total number of results that match the query parameters.                        |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| next               | URL               | A URL to the next page of results.                                                  |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| previous           | URL               | A URL to the previous page of results.                                              |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| results            | Array             | List of result JSON objects that match the query parameters.                        |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .id                | Integer           | The unique identifier of the model. Can be passed to the details API call.          |
|                    |                   | (See :ref:`Error Details <rest_error_details>`)                                     |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .name              | String            | The stable name of the error used for queries.                                      |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .title             | String            | The human readable display name of the error.                                       |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .description       | String            | A longer description of the error.                                                  |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .category          | String            | The category of the error. Choices: [SYSTEM, ALGORITHM, DATA].                      |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .is_builtin        | Boolean           | Whether the error was loaded during the installation process.                       |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .created           | ISO-8601 Datetime | When the associated database model was initially created.                           |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .last_modified     | ISO-8601 Datetime | When the associated database model was last saved.                                  |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .. code-block:: javascript                                                                                                   |
|                                                                                                                              |
|    {                                                                                                                         |
|        "count": 23,                                                                                                          |
|        "next": null,                                                                                                         |
|        "previous": null,                                                                                                     |
|        "results": [                                                                                                          |
|            {                                                                                                                 |
|                "id": 1,                                                                                                      |
|                "name": "unknown",                                                                                            |
|                "title": "Unknown",                                                                                           |
|                "description": "The error that caused the failure is unknown.",                                               |
|                "category": "SYSTEM",                                                                                         |
|                "is_builtin": true,                                                                                           |
|                "created": "2015-03-11T00:00:00Z",                                                                            |
|                "last_modified": "2015-03-11T00:00:00Z"                                                                       |
|            },                                                                                                                |
|            ...                                                                                                               |
|        ]                                                                                                                     |
|    }                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------+

.. _rest_error_create:

+------------------------------------------------------------------------------------------------------------------------------+
| **Create Error**                                                                                                             |
+==============================================================================================================================+
| Creates a new error                                                                                                          |
+------------------------------------------------------------------------------------------------------------------------------+
| **POST** /errors/                                                                                                            |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Content Type**   | *application/json*                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **JSON Fields**                                                                                                              |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| name               | String            | The stable name of the error used for queries.                                      |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| title              | String            | The human readable display name of the error.                                       |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| description        | String            | A longer description of the error.                                                  |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| category           | String            | The category of the error. Choices: [ALGORITHM, DATA].                              |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .. code-block:: javascript                                                                                                   |
|                                                                                                                              |
|    {                                                                                                                         |
|        "name": "error1",                                                                                                     |
|        "title": "Error 1",                                                                                                   |
|        "description": "This is an algorithm error",                                                                          |
|        "category": "ALGORITHM"                                                                                               |
|    }                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------+
| **Successful Response**                                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Status**         | 201 CREATED                                                                                             |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Location**       | URL pointing to the details for the newly created error                                                 |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Content Type**   | *application/json*                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **JSON Fields**                                                                                                              |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
|                    | JSON Object       | All fields are the same as the error details model.                                 |
|                    |                   | (See :ref:`Error Details <rest_error_details>`)                                     |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .. code-block:: javascript                                                                                                   |
|                                                                                                                              |
|    {                                                                                                                         |
|        "id": 100,                                                                                                            |
|        "name": "error1",                                                                                                     |
|        "title": "Error 1",                                                                                                   |
|        "description": "This is an algorithm error",                                                                          |
|        "category": "ALGORITHM",                                                                                              |
|        "is_builtin": false,                                                                                                  |
|        "created": "2015-03-11T00:00:00Z",                                                                                    |
|        "last_modified": "2015-03-11T00:00:00Z"                                                                               |
|    }                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------+

.. _rest_error_details:

+------------------------------------------------------------------------------------------------------------------------------+
| **Error Details**                                                                                                            |
+==============================================================================================================================+
| Returns the details for an error with the given id.                                                                          |
+------------------------------------------------------------------------------------------------------------------------------+
| **GET** /errors/{id}/                                                                                                        |
|         Where {id} is the unique identifier of an existing model.                                                            |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| **Successful Response**                                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Status**         | 200 OK                                                                                                  |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Content Type**   | *application/json*                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **JSON Fields**                                                                                                              |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| id                 | Integer           | The unique identifier of the model.                                                 |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| name               | String            | The stable name of the error used for queries.                                      |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| title              | String            | The human readable display name of the error.                                       |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| description        | String            | A longer description of the error.                                                  |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| category           | String            | The category of the error. Choices: [SYSTEM, ALGORITHM, DATA].                      |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| is_builtin         | Boolean           | Whether the error was loaded during the installation process.                       |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| created            | ISO-8601 Datetime | When the associated database model was initially created.                           |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| last_modified      | ISO-8601 Datetime | When the associated database model was last saved.                                  |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .. code-block:: javascript                                                                                                   |
|                                                                                                                              |
|    {                                                                                                                         |
|        "id": 1,                                                                                                              |
|        "name": "unknown",                                                                                                    |
|        "title": "Unknown",                                                                                                   |
|        "description": "The error that caused the failure is unknown.",                                                       |
|        "category": "SYSTEM",                                                                                                 |
|        "is_builtin": true,                                                                                                   |
|        "created": "2015-03-11T00:00:00Z",                                                                                    |
|        "last_modified": "2015-03-11T00:00:00Z"                                                                               |
|    }                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------+

.. _rest_error_edit:

+------------------------------------------------------------------------------------------------------------------------------+
| **Edit Error**                                                                                                               |
+==============================================================================================================================+
| Edits an existing error                                                                                                      |
+------------------------------------------------------------------------------------------------------------------------------+
| **PATCH** /errors/{id}/                                                                                                      |
|           Where {id} is the unique identifier of an existing model.                                                          |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Content Type**   | *application/json*                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **JSON Fields**                                                                                                              |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| title              | String            | Optional | The human readable display name of the error.                            |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| description        | String            | Optional | A longer description of the error.                                       |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| category           | String            | Optional | The category of the error. Choices: [SYSTEM, ALGORITHM, DATA].           |
+--------------------+-------------------+----------+--------------------------------------------------------------------------+
| .. code-block:: javascript                                                                                                   |
|                                                                                                                              |
|    {                                                                                                                         |
|        "title": "My Error",                                                                                                  |
|        "description": "An edited error description.",                                                                        |
|        "category": "ALGORITHM"                                                                                               |
|    }                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------+
| **Successful Response**                                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Status**         | 200 OK                                                                                                  |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **Content Type**   | *application/json*                                                                                      |
+--------------------+---------------------------------------------------------------------------------------------------------+
| **JSON Fields**                                                                                                              |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
|                    | JSON Object       | All fields are the same as the error details model.                                 |
|                    |                   | (See :ref:`Error Details <rest_error_details>`)                                     |
+--------------------+-------------------+-------------------------------------------------------------------------------------+
| .. code-block:: javascript                                                                                                   |
|                                                                                                                              |
|    {                                                                                                                         |
|        "id": 100,                                                                                                            |
|        "name": "my-error",                                                                                                   |
|        "title": "My Error",                                                                                                  |
|        "description": "An edited error description.",                                                                        |
|        "category": "ALGORITHM",                                                                                              |
|        "is_builtin": false,                                                                                                  |
|        "created": "2015-03-11T00:00:00Z",                                                                                    |
|        "last_modified": "2015-03-11T00:00:00Z"                                                                               |
|    }                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------+
